<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lückensätze – Wohnen</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #000;
      color: white;
      text-align: center;
    }

    .start-screen, .question-screen, .result-screen {
      display: none;
      height: 100vh;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      padding: 20px;
    }

    .start-screen {
      display: flex;
    }

    .logo {
      width: 300px;
      height: auto;
      margin-top: 10px;
      margin-bottom: 20px;
    }

    .start-screen h1, .swipe-hint, .result-screen h2, .result-screen p, .corrections {
      color: white;
    }

    .start-button {
      padding: 12px 24px;
      font-size: 1em;
      background-color: #e63946;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    .start-button:hover {
      background-color: #c62828;
    }

    .question p {
      font-size: 1.2em;
      margin-bottom: 15px;
    }

    #progress-text {
      margin-bottom: 10px;
      font-weight: bold;
      font-size: 1em;
    }

    .answers {
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 300px;
      margin: 0 auto;
    }

    .answers button {
      padding: 10px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }

    .answers button:hover {
      background-color: #0056b3;
    }

    .answers button:disabled {
      cursor: default;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div class="start-screen">
    <img src="logo.png" alt="Logo" class="logo">
    <h1>Swipe left or right!</h1>
    <p class="swipe-hint">Updated: May 23rd</p>
    <button class="start-button" onclick="startQuiz()">Los geht’s!</button>
  </div>

  <div class="question-screen">
    <p id="progress-text"></p>
    <div class="question" id="question-container"></div>
  </div>

  <div class="result-screen">
    <h2 id="score-text"></h2>
    <div class="corrections" id="correction-list"></div>
    <button class="start-button" onclick="restartQuiz()">Nochmal spielen</button>
  </div>

<script>
  const questions = [
    { text: "Er hat keine ___ zur Behörde.", options: ["Verbindung", "Verbindungen", "Verbindungens", "Verbindungs"], correct: 0 },
    { text: "Nach dem Schulabschluss ging er in ___ .", options: ["der Militärdienst", "den Militärdienst", "dem Militärdienst", "die Militärdienst"], correct: 1 },
    { text: "Die Soldaten wohnen in ___.", options: ["die Kaserne", "dem Kaserne", "der Kaserne", "den Kasernen"], correct: 3 },
    { text: "Er hat mir ___ erzählt.", options: ["etwas Interessantes", "etwas Interessanteres", "etwas Interessantem", "etwas Interessanten"], correct: 0 },
    { text: "Er arbeitet jetzt bei ___.", options: ["eine Behörde", "der Behörde", "die Behörde", "dem Behörde"], correct: 1 },
    { text: "Er lebt im Kloster und genießt ___ .", options: ["den spirituellen Rückzug", "der spirituelle Rückzug", "das spirituelle Rückzug", "die spirituelle Rückzug"], correct: 0 },
    { text: "Der Zivildienst ist in vielen Ländern ___.", options: ["obligatorisch", "obligatorische", "obligatorisches", "obligatorischen"], correct: 0 },
    { text: "In welchem ___ arbeitest du?", options: ["Bereich", "Bereiches", "Bereichen", "Bereiche"], correct: 0 },
    { text: "Viele setzen auf ___ .", options: ["erneuerbare Energien", "erneuerbaren Energien", "erneuerbare Energie", "erneuerbarer Energien"], correct: 0 },
    { text: "Ich möchte meine ___ besser verstehen.", options: ["Vergangenheit", "Vergangenheiten", "Vergangenheite", "Vergangenheits"], correct: 0 },
    { text: "Ich muss mir das unbedingt ___ .", options: ["aufschreiben", "aufzuschreiben", "aufschreibe", "aufschreib"], correct: 0 },
    { text: "Der Text hat 18 ___.", options: ["Zeilen", "Zeile", "Zeiles", "Zeilens"], correct: 0 },
    { text: "___ du dich an die neue Schule anpassen?", options: ["Musstest", "Musste", "Musst", "Mussten"], correct: 0 },
    { text: "Die ___ fällt vielen Menschen schwer.", options: ["Anpassung", "Anpassungen", "Anpassungs", "Anpassunge"], correct: 0 },
    { text: "Er hat große ___ gezeigt.", options: ["Fähigkeit", "Fähigkeiten", "Fähigkeits", "Fähigkeite"], correct: 1 },
    { text: "Er ist für seine ___ bekannt.", options: ["Anpassungsfähigkeit", "Anpassungsfähigkeiten", "Anpassungsfähige", "Anpassungsfähig"], correct: 0 },
    { text: "Er hat seinen Abschluss an einer ___ Universität gemacht.", options: ["renommierten", "renommierte", "renommierter", "renommiertes"], correct: 0 },
    { text: "Warum willst du ___ gehen?", options: ["so weit weg", "zu weit weg", "so weit", "sehr weit weg"], correct: 0 },
    { text: "Er hat ein schlechtes ___.", options: ["Gewissen", "Gewissens", "Gewisse", "Gewissene"], correct: 0 },
    { text: "Ist das mit deinem Gewissen ___?", options: ["vereinbar", "vereinbare", "vereinbares", "vereinbaren"], correct: 0 },
    { text: "Er hat einen ___ für Zivildienst gestellt.", options: ["Antrag", "Antrage", "Antrags", "Anträge"], correct: 0 },
    { text: "Die ___ ist zuständig für den Antrag.", options: ["Verwaltung", "Verwaltungen", "Verwaltungs", "Verwaltungens"], correct: 0 },
    { text: "Wir führen ein ___ über unsere Zukunft.", options: ["Gespräch", "Gespräche", "Gespräches", "Gesprächs"], correct: 0 },
    { text: "Ich habe mich um eine Position ___ .", options: ["beworben", "bewerbt", "bewerbtet", "beworbenen"], correct: 0 },
    { text: "Ich ___ mir die Adresse ___.", options: ["habe – aufgeschrieben", "hat – aufgeschrieben", "habe – geschrieben auf", "hatte – aufgeschreibt"], correct: 0 },
    { text: "Ich habe mich ___, keinen Dienst zu leisten.", options: ["entschieden", "entschied", "entscheide", "entschiedenem"], correct: 0 },
    { text: "Ich ___ den Militärdienst.", options: ["verweigere", "verweigern", "verweigert", "verweigertes"], correct: 0 },
    { text: "Er ist ein ___.", options: ["Verweigerer", "Verweiger", "Verweigere", "Verweigertes"], correct: 0 },
    { text: "Kann ich das kurz ___?", options: ["benutzen", "benutzt", "benutztet", "benutzend"], correct: 0 },
    { text: "Ich möchte dieses Gerät ___.", options: ["testen", "testet", "testete", "testest"], correct: 0 },
    { text: "Ich werde nochmal bei ihm ___.", options: ["nachfragen", "nachfrag", "nachgefragt", "nachfragt"], correct: 0 },
    { text: "Die ___ ist für Personal zuständig.", options: ["Abteilung", "Abteilungs", "Abteilunge", "Abteilungen"], correct: 0 },
    { text: "Er ist schon lange ___.", options: ["erwachsen", "erwachsene", "erwachsener", "erwachsens"], correct: 0 },
    { text: "Ich bin in Bayern ___ .", options: ["aufgewachsen", "aufwuchs", "aufwachsend", "aufgewachsenem"], correct: 0 },
    { text: "Er lebt in einem buddhistischen ___.", options: ["Kloster", "Klosters", "Klostern", "Klostere"], correct: 0 },
    { text: "Er ist seinem Lehrer ___ Frankreich gefolgt.", options: ["nach", "in", "zu", "von"], correct: 0 }
  ];



    let currentQuestion = 0;
    let score = 0;
    let incorrectAnswers = [];
    let answered = false;

    function startQuiz() {
      document.querySelector('.start-screen').style.display = 'none';
      document.querySelector('.question-screen').style.display = 'flex';
      showQuestion();
    }

    function showQuestion() {
      const container = document.getElementById('question-container');
      const progressText = document.getElementById('progress-text');
      container.innerHTML = '';
      answered = false;

      const q = questions[currentQuestion];
      progressText.textContent = `Frage ${currentQuestion + 1} von ${questions.length}`;

      const questionText = document.createElement('p');
      questionText.textContent = q.text;
      container.appendChild(questionText);

      const answerButtons = document.createElement('div');
      answerButtons.classList.add('answers');

      q.options.forEach((option, index) => {
        const btn = document.createElement('button');
        btn.textContent = option;
        btn.onclick = () => handleAnswer(btn, index, answerButtons);
        answerButtons.appendChild(btn);
      });

      container.appendChild(answerButtons);
    }

    function handleAnswer(clickedButton, index, buttonContainer) {
      if (answered) return;
      answered = true;
      const q = questions[currentQuestion];
      const buttons = buttonContainer.querySelectorAll('button');

      buttons.forEach((btn, idx) => {
        btn.disabled = true;
        if (idx === q.correct) {
          btn.style.backgroundColor = 'green';
        } else if (btn === clickedButton) {
          btn.style.backgroundColor = 'red';
        } else {
          btn.style.backgroundColor = '#aaa';
        }
      });

      if (index === q.correct) {
        score++;
      } else {
        incorrectAnswers.push({ question: q.text, correctAnswer: q.options[q.correct] });
      }
    }

    function showResult() {
      document.querySelector('.question-screen').style.display = 'none';
      const resultScreen = document.querySelector('.result-screen');
      resultScreen.style.display = 'flex';

      document.getElementById('score-text').textContent = `Du hast ${score} von ${questions.length} richtig.`;
      const correctionList = document.getElementById('correction-list');
      correctionList.innerHTML = '';
      incorrectAnswers.forEach(item => {
        const p = document.createElement('p');
        p.innerHTML = `Frage: ${item.question.replace("___", "_____")}<br><strong>Richtige Antwort:</strong> ${item.correctAnswer}`;
        correctionList.appendChild(p);
      });
    }

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      incorrectAnswers = [];
      document.querySelector('.result-screen').style.display = 'none';
      document.querySelector('.start-screen').style.display = 'flex';
    }

    // Swipe Support
    let touchStartX = 0;
    let touchEndX = 0;

    document.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    });

    document.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });

    function handleSwipe() {
      if (touchEndX < touchStartX - 50) {
        // Swipe Left
        if (document.querySelector('.question-screen').style.display === 'flex') {
          if (answered && currentQuestion < questions.length - 1) {
            currentQuestion++;
            showQuestion();
          } else if (answered && currentQuestion === questions.length - 1) {
            showResult();
          }
        }
      } else if (touchEndX > touchStartX + 50) {
        // Swipe Right
        if (document.querySelector('.question-screen').style.display === 'flex') {
          if (currentQuestion > 0) {
            currentQuestion--;
            showQuestion();
          }
        }
      }
    }
  </script>
</body>
</html>
